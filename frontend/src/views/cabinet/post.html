<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make post</title>
</head>
<body>
    <form action="" method="POST" id="makePost">
        <div class="auth-modal__form-row">
            <label for="number" class="app-input__label">Number</label>
            <input type="number" name="number" id="number" class="app-input">
        </div>
        <div class="auth-modal__form-row">
            <label for="work" class="app-input__label">Work</label>
            <input type="text" name="work" id="work" required  class="app-input">
        </div>
        <div class="auth-modal__form-row">
            <label for="cost" class="app-input__label">Cost</label>
            <input type="number" name="cost" id="cost" required  class="app-input">
        </div>
        <div class="auth-modal__form-row">
            <label for="contractor" class="app-input__label">Contractor</label>
            <input type="text" name="contractor" id="contractor" required class="app-input">
        </div>
        <div class="auth-modal__form-row">
            <label for="income" class="app-input__label">Income?</label>
            <input type="checkbox" name="income" id="income" class="app-input">
        </div>
        <div class="auth-modal__form-row">
            <label for="regular" class="app-input__label">Regular</label>
            <input type="checkbox" name="regular" id="regular" class="app-input">
        </div>
        <button type="submit" id="makePostBTN" class="auth-modal__form-button">Save</button>
    </form>
    <script>
        const makePost = document.querySelector('#makePost');
        makePost.addEventListener('submit', function async(e) {
            e.preventDefault();
            try {
            const post = {
                number: makePost.elements.number.value || 1,
                work: makePost.elements.work.value || 'web-design',
                contractor: makePost.elements.contractor.value || 'Ann',
                cost: makePost.elements.cost.value || 100,
                income: makePost.elements.income.value || 'on',
                regular: makePost.elements.regular.value || 'on',
            };
            console.log(post)
            const response = await fetch('https://money-keeper21.herokuapp.com/post', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
                body: JSON.stringify(post)
            });
            console.log(response)
            return await response.json();
        } catch (err) {
            console.log(err);
        }
        })
    </script>
</body>
</html>